# Segment

날짜: 2021년 7월 1일

데이터베이스의 물리적 저장 공간은 **테이블스페이스, 세그먼트, 익스텐트, 오라클 블록**의 **논리적 개념**으로 설계되며 이들은 OS블록의 형태인 **물리적인 데이터 파일**의 형태로 최종적으로 구성된다.

하나의 데이터베이스는 여러개의 테이블스페이스로 이루어지고 각각의 테이블스페이스는 여러개의 세그먼트로, 또 각각의 세그먼트는 여러개의 익스텐트로 이루어지고, 하나의 익스텐트는 여러개의 오라클 블록으로 이루어 진다.

**테이블 스페이스**

- 하나의 데이터베이스는 하나 또는 다수의 테이블스페이스라는 논리적 공간으로 이루어진다.
- 하나의 테이블스페이스는 하나의 데이터베이스에 속해야 한다.
- 하나의 테이블스페이스는 한 개 또는 다수의 데이터 파일로 이루어 진다.

**데이터 파일**

- 하나의 데이터 파일이 여러 가지의 테이블스페이스 데이터를 저장할 수 없다
- DBA는 데이터베이스를 생성한 이후 데이터 파일의 크기를 변경할 수 있다.
- 자동확장기능이 있다.

**세그먼트**

- 하나의 테이블스페이스 내부에 저장된 각 데이터베이스 오브젝트를 세그먼트라고 말할 수 있다.
- 하나의 테이블스페이스에는 다수의 세그먼트를 저장할 수도 있다.
- 하나의 세그먼트가 다수의 테이블스페이스에 나누어 저장될 수 없다.
- 하나의 세그먼트는 다수의 데이터 파일에 나누어 저장될 수도 있다. 단 그 데이터 파일들이 같은 테이블스페이스 내부에 할당되어 있는 경우에만 가능하다.

**익스텐트**

- 하나의 세그먼트에 할당된 공간을 익스텐트라 한다.
- 하나의 세그먼트는 한 개 또는 다수의 익스텐트로 구성된다.
- 하나의 세그먼트가 다수의 데이터 파일에 나누어 저장될 수 없다.

**오라클 블록**

- DB를 구성하는 가장 최소 저장 공간으로 실제 데이터가 바로 이곳에 저장된다.
- 오라클 블록의 크기는 db_block_size라는 파라미터에 의해 정해지며 변경이 불가능하다.
- 다른 블록사이즈를 사용하고자 한다면 테이블스페이스를 추가로 생성하면서 다른 크기로 설정 가능하다.